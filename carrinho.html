<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Carrinho | RenovaAr</title>

<style>
    body {
        margin: 0;
        font-family: Arial, sans-serif;
        background: url("https://images.unsplash.com/photo-1520333789090-1afc82db536a?w=1600") no-repeat center center fixed;
        background-size: cover;
        color: #fff;
    }

    .overlay {
        background: rgba(0,0,0,0.70);
        min-height: 100vh;
        padding: 25px 16px 60px;
    }

    h1 {
        text-align: center;
        font-size: 30px;
        margin-bottom: 20px;
    }

    /* VOLTAR E HOME */
    .top-bar {
        max-width: 900px;
        margin: 0 auto;
        display: flex;
        justify-content: space-between;
        margin-bottom: 20px;
    }

    .top-bar button {
        padding: 8px 14px;
        border-radius: 999px;
        border: none;
        background: #7BF68F;
        color: #04210b;
        font-weight: bold;
        cursor: pointer;
        font-size: 13px;
    }

    /* √ÅREA DO CARRINHO */
    .cart-box {
        max-width: 900px;
        margin: auto;
        background: rgba(255,255,255,0.12);
        backdrop-filter: blur(8px);
        padding: 20px;
        border-radius: 15px;
        box-shadow: 0px 4px 12px rgba(0,0,0,0.4);
    }

    .item {
        background: rgba(255,255,255,0.10);
        padding: 14px;
        border-radius: 12px;
        margin-bottom: 12px;
    }

    .item h3 {
        margin: 0;
        font-size: 17px;
    }

    .item p {
        margin: 5px 0;
        opacity: 0.9;
        font-size: 14px;
    }

    .remove-btn {
        padding: 7px 12px;
        background: #ff6868;
        border: none;
        border-radius: 8px;
        font-weight: bold;
        cursor: pointer;
        color: white;
        margin-top: 8px;
    }

    .total-area {
        margin-top: 20px;
        font-size: 20px;
        text-align: right;
        font-weight: bold;
    }

    .finish-btn {
        width: 100%;
        padding: 14px;
        margin-top: 20px;
        background: #7BF68F;
        border: none;
        border-radius: 12px;
        font-size: 18px;
        font-weight: bold;
        cursor: pointer;
        color: #04210b;
    }

</style>
</head>

<body>

<div class="overlay">

    <div class="top-bar">
        <button onclick="window.location.href='loja.html'">‚¨Ö Voltar √† Loja</button>
        <button onclick="window.location.href='index.html'">üè† Home</button>
    </div>

    <h1>Seu Carrinho</h1>

    <div class="cart-box" id="cartArea">
        <!-- Conte√∫do gerado pelo script -->
    </div>

</div>

<script>
function loadCart(){
    try{
        return JSON.parse(localStorage.getItem('renovaar_cart')) || [];
    }catch(e){
        return [];
    }
}

function saveCart(cart){
    localStorage.setItem('renovaar_cart', JSON.stringify(cart));
}

function removeItem(id){
    let cart = loadCart();
    cart = cart.filter(item => item.id !== id);
    saveCart(cart);
    renderCart();
}

function renderCart(){
    const cart = loadCart();
    const area = document.getElementById("cartArea");

    if(cart.length === 0){
        area.innerHTML = "<p style='text-align:center; font-size:18px;'>Seu carrinho est√° vazio üòï</p>";
        return;
    }

    let html = "";
    let total = 0;

    cart.forEach(item => {
        const subtotal = item.price * item.qty;
        total += subtotal;

        html += `
            <div class="item">
                <h3>${item.name}</h3>
                <p>Pre√ßo: R$ ${item.price.toFixed(2)}</p>
                <p>Quantidade: ${item.qty}</p>
                <p>Subtotal: <b>R$ ${subtotal.toFixed(2)}</b></p>
                <button class="remove-btn" onclick="removeItem('${item.id}')">Remover</button>
            </div>
        `;
    });

    html += `
        <div class="total-area">
            Total: R$ ${total.toFixed(2)}
        </div>
        <button class="finish-btn" onclick="finalizarCompra()">Finalizar Compra</button>
    `;

    area.innerHTML = html;
}

function finalizarCompra(){
    alert("Em breve: pagamento integrado! üöÄ");
}

renderCart();
</script>

</body>
</html>
