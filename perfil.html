<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Perfil ‚Äì RenovaAr</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: url("https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=1600")
      center/cover no-repeat fixed;
  color: #fff;
}

.overlay {
  background: rgba(0,0,0,0.55);
  min-height: 100vh;
  padding: 20px;
}

/* ===== MENU SUPERIOR ===== */
.menu {
  display: flex;
  justify-content: center;
  gap: 12px;
  margin-bottom: 25px;
}

.menu button {
  padding: 10px 18px;
  background: #7BF68F;
  color: black;
  font-weight: bold;
  border: none;
  border-radius: 10px;
  cursor: pointer;
}

/* ===== CARDS ===== */
.card {
  background: rgba(255,255,255,0.15);
  border-radius: 14px;
  padding: 18px;
  width: 92%;
  margin: 20px auto;
  backdrop-filter: blur(8px);
}

/* ===== FOTO DE PERFIL ===== */
.profile-picture {
  width: 120px;
  height: 120px;
  border-radius: 50%;
  border: 3px solid #7BF68F;
  object-fit: cover;
  display: block;
  margin: auto;
}

.upload-input {
  display: block;
  margin: 12px auto;
}

/* ===== NOME + BIO ===== */
.profile-name {
  text-align: center;
  font-size: 26px;
  margin-top: 10px;
  font-weight: bold;
}

.profile-bio {
  text-align: center;
  font-size: 14px;
  opacity: 0.9;
  margin-top: 6px;
}

/* ===== TEXTAREA EDIT√ÅVEL ===== */
textarea {
  width: 100%;
  border-radius: 10px;
  padding: 10px;
  border: none;
  resize: none;
  height: 90px;
}

/* ===== BOT√ïES ===== */
.edit-btn {
  background: #7BF68F;
  color: black;
  padding: 10px 16px;
  border: none;
  margin-top: 10px;
  border-radius: 10px;
  cursor: pointer;
  font-weight: bold;
  width: 100%;
}

/* ===== SISTEMA DE N√çVEIS ===== */
.level-box {
  text-align: center;
}

.level-number {
  font-size: 22px;
  font-weight: bold;
  margin-bottom: 6px;
}

.level-bar {
  width: 100%;
  height: 14px;
  background: rgba(255,255,255,0.2);
  border-radius: 10px;
  overflow: hidden;
}

.level-fill {
  height: 100%;
  background: #7BF68F;
  width: 0%;
  transition: width 0.4s;
}

/* ===== LINHA DO TEMPO ===== */
.timeline-item {
  background: rgba(255,255,255,0.1);
  padding: 10px;
  border-radius: 10px;
  margin-bottom: 10px;
}
</style>
</head>

<body>
<div class="overlay">

  <!-- MENU -->
  <div class="menu">
    <button onclick="window.location.href='index.html'">Home</button>
    <button onclick="window.location.href='ferramentas.html'">Ferramentas</button>
    <button onclick="window.location.href='loja.html'">Loja</button>
    <button onclick="window.location.href='perfil.html'">Perfil</button>
  </div>

  <!-- FOTO DE PERFIL -->
  <img id="fotoPerfil" class="profile-picture" src="">

  <input type="file" id="uploadFoto" class="upload-input" accept="image/*">

  <div class="profile-name" id="nomeUsuario">Usu√°rio RenovaAr</div>

  <!-- BIOGRAFIA -->
  <p class="profile-bio" id="bioTexto">
    ‚ÄúEstou vivendo uma nova fase da minha vida, com mais for√ßa e sa√∫de.‚Äù
  </p>

  <div class="card">
    <h2 style="text-align:center;">‚úèÔ∏è Editar Biografia</h2>
    <textarea id="bioInput" placeholder="Escreva algo sobre sua jornada..."></textarea>
    <button class="edit-btn" onclick="salvarBio()">Salvar Biografia</button>
  </div>

  <!-- DEPOIMENTO PESSOAL EDIT√ÅVEL -->
  <div class="card">
    <h2 style="text-align:center;">üí¨ Seu Depoimento</h2>

    <p id="depoimentoTexto" style="font-style:italic;opacity:0.9;text-align:center;margin-bottom:15px;">
      "Aqui estar√° o seu depoimento pessoal."
    </p>

    <textarea id="depoimentoInput" placeholder="Escreva seu depoimento aqui..."></textarea>

    <button class="edit-btn" onclick="salvarDepoimento()">Salvar Depoimento</button>
  </div>

  <!-- SISTEMA DE N√çVEIS -->
  <div class="card level-box">
    <h2>‚≠ê Seu N√≠vel</h2>
    <div class="level-number" id="nivelNumero"></div>

    <div class="level-bar">
      <div class="level-fill" id="levelFill"></div>
    </div>

    <p style="opacity:0.8;margin-top:6px;">
      Evolua seus n√≠veis conforme seus dias sem fumar!
    </p>
  </div>

  <!-- LINHA DO TEMPO -->
  <div class="card">
    <h2 style="text-align:center;">üóì Minha Jornada</h2>

    <div id="timeline"></div>

    <button class="edit-btn" onclick="adicionarEvento()">Adicionar Evento</button>
  </div>

</div>

<script>
/* ===============================
    FOTO DE PERFIL
================================ */
const foto = document.getElementById("fotoPerfil");
const upload = document.getElementById("uploadFoto");

if(localStorage.getItem("fotoPerfil")){
  foto.src = localStorage.getItem("fotoPerfil");
} else {
  foto.src = "https://images.unsplash.com/photo-1544725176-7c40e5a71c5e?w=800";
}

upload.addEventListener("change", function(){
  const reader = new FileReader();
  reader.onload = function(e){
    localStorage.setItem("fotoPerfil", e.target.result);
    foto.src = e.target.result;
  }
  reader.readAsDataURL(this.files[0]);
});

/* ===============================
    BIOGRAFIA
================================ */
const bioInput = document.getElementById("bioInput");
const bioTexto = document.getElementById("bioTexto");

if(localStorage.getItem("bioTexto")){
  bioTexto.innerText = localStorage.getItem("bioTexto");
}

function salvarBio(){
  const texto = bioInput.value.trim();
  if(texto.length > 0){
    localStorage.setItem("bioTexto", texto);
    bioTexto.innerText = texto;
    alert("Biografia atualizada!");
  }
}

/* ===============================
    DEPOIMENTO PESSOAL
================================ */
const depoimentoTexto = document.getElementById("depoimentoTexto");
const depoimentoInput = document.getElementById("depoimentoInput");

if(localStorage.getItem("depoimentoUser")){
  depoimentoTexto.innerText = localStorage.getItem("depoimentoUser");
}

function salvarDepoimento(){
  const txt = depoimentoInput.value.trim();
  if(txt.length > 0){
    localStorage.setItem("depoimentoUser", txt);
    depoimentoTexto.innerText = txt;
    alert("Depoimento atualizado!");
  }
}

/* ===============================
    SISTEMA DE N√çVEIS
================================ */
let diasSemFumar = 27; // Pode integrar com o sistema real

function calcularNivel(){
  let nivel = Math.floor(diasSemFumar / 5);
  let progresso = (diasSemFumar % 5) * 20;

  document.getElementById("nivelNumero").innerText = "N√≠vel " + nivel;
  document.getElementById("levelFill").style.width = progresso + "%";
}
calcularNivel();

/* ===============================
    LINHA DO TEMPO
================================ */
const timeline = document.getElementById("timeline");

if(!localStorage.getItem("eventos")){
  localStorage.setItem("eventos", JSON.stringify([
    "üìå Dia 1 ‚Äì Decidi mudar minha vida.",
    "üìå Dia 5 ‚Äì Passei o dia sem vontade de fumar.",
    "üìå Dia 10 ‚Äì Minha respira√ß√£o est√° melhor!",
    "üìå Dia 15 ‚Äì Comecei a sentir orgulho real.",
  ]));
}

function exibirEventos(){
  const eventos = JSON.parse(localStorage.getItem("eventos"));
  timeline.innerHTML = "";
  eventos.forEach(ev=>{
    timeline.innerHTML += `<div class="timeline-item">${ev}</div>`;
  });
}
exibirEventos();

function adicionarEvento(){
  const novo = prompt("Descreva um novo marco da sua jornada:");
  if(novo){
    const eventos = JSON.parse(localStorage.getItem("eventos"));
    eventos.unshift("üìå " + novo);
    localStorage.setItem("eventos", JSON.stringify(eventos));
    exibirEventos();
  }
}
</script>

</body>
</html>
